h1{margin-top:-5px;font-size:20px;}p{font-size:12px;}body{margin:20px;font-family:verdana;}textarea#canvas{margin-top:5px;padding:10px;border:1px dashed gray;background-color:#fafafa;height:170px;width:98%}.ed_button{padding:5px;}#ed_italic_canvas{font-style:italic;}#ed_bold_canvas{font-weight:bold;}#ed_h1_canvas{font-weight:bold;}#ed_h2_canvas{font-weight:bold;}#ed_h3_canvas{font-weight:bold;}#ed_h4_canvas{font-weight:bold;}#ed_link_canvas{color:blue;text-decoration:underline;}#ed_toolbar_canvas{background:#ddd;padding:5px;padding-top:2px;border:2px solid #777;float:left;margin-top:25px;}input{margin-right:7px;border:1px solid #aaa;margin-top:5px;font-size:13px;}.preview{float:right;padding:10px;margin-top:-60px;margin-bottom:10px;font-size:12px;border:1px gray dotted;width:290px;}.preview h4{font-size:14px;margin-bottom:5px;margin-top:0px;}iframe{margin-top:20px;margin-bottom:20px;width:98%;height:500px;}

$checkBox-size: 200px;
$checkMark-width: 12px;
$color: #32A845;
$animation-duration: 2.5s;

*, *:before, *:after { box-sizing: border-box;}

html,body { height: 100%;}

body { background-color: #111;}

label {
	position: absolute;
	top: 20px;
	right: 20px;
	width: 60px;
	height: 20px;
	background-color: #fff;
}

input[type="checkbox"] {
	position: absolute;
	top: 20px;
	right: 20px;
	width: 60px;
	height: 20px;
	margin: 0;
	opacity: 0;
	cursor: pointer;
	z-index: 20;
	
	&:checked {
		~ label {
			background-color: #e9454a;
			box-shadow: 0 0 12px #e9454a;
		}
		
		~ div .checkbox {
			&:before {
				animation: rotate $animation-duration linear both;
			}
			
			&:after {
				animation: checking $animation-duration linear both;
			}
		}
	}
}

div {
	width: $checkBox-size;
	height: $checkBox-size;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%,-50%);
	border-radius: 50%;
	overflow: hidden;
}

.checkbox {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	display: block;
	border-radius: 50%;
	overflow: hidden;
	
	&:before,
	&:after {
		content: '';
		position: absolute;
		top: 0%;
		left: 0%;
		width: 100%;
		height: 100%;
	}
	
	// circle-outline -----
	&:before {
		border: solid $checkMark-width transparent;
		border-top-color: $color;
		border-radius: 50%;
		clip: rect(0px, $checkBox-size, $checkBox-size, $checkBox-size);
		transform: rotate(-45deg);
	}
	
	// checkMark -----
	&:after {
		border-bottom: $checkMark-width solid $color;
		border-left: $checkMark-width solid $color;
		transform: rotate(-45deg) translate(40%,-40%) skew(-9deg);
		animation: checking-reverse 0.6s linear both;
	}
}



@keyframes checking {
	0%,90% { clip: rect(0px, $checkMark-width, 0px, 0px);}
	95% { clip: rect(0px, $checkMark-width, $checkBox-size, 0px);}
	100% { clip: rect($checkBox-size * 3/4, $checkBox-size / 2, $checkBox-size, 0px);}
}

@keyframes checking-reverse {
	0% { clip: rect($checkBox-size * 3/4, $checkBox-size / 2, $checkBox-size, 0px);}
	40% { clip: rect($checkBox-size * 3/4, $checkMark-width, $checkBox-size, 0px);}
	100% { clip: rect($checkBox-size * 3/4, $checkMark-width, 0px, 0px);}
}

@keyframes rotate {
	10% {
		clip: rect(0px, $checkBox-size, $checkBox-size, 0px);
	}
	90% {
		clip: rect(0px, $checkBox-size, $checkBox-size, 0px);
		transform: rotate(-1090deg);
	}
	91%,99% {
		transform: rotate(-1090deg);
	}
	100% {
		transform: rotate(-1090deg);
		clip: rect(0px, 0px, $checkBox-size, 0px);
	}
}
