<!DOCTYPE html>

<html>
<head>

	<title>HTML Template Tool</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>

<frameset resizable="yes" rows="50%,*" onload="init();">
  <!-- about:blank confuses opera, so use javascript: URLs instead -->
  <frame name="header" src=javascript:'';">
  <frame name="dynamicframe" src="javascript:'';">
  <frame name="editbox" src="javascript:'';">
</frameset>

</body>

<script type="text/javascript">
	var editboxHTML = 
		'<html class="expand close">' +
		'<head>' +
		'<style type="text/css">' +
		'.expand { width: 100%; height: 100%; }' +
		'.close { border: none; margin: 0px; padding: 0px; }' +
		'html,body { overflow: hidden; }' +
		'<\/style>' +
		'<\/head>' +
		'<body class="expand close" onload="document.f.ta.focus(); document.f.ta.select();">' +
		'<form class="expand close" name="f">' +
		'<textarea class="expand close" style="background: #def;" name="ta" wrap="hard" spellcheck="false">' +
		'<\/textarea>' +
		'<\/form>' +
		'<\/body>' +
		'<\/html>';
	var defaultStuff = '<h3><center>Welcome to the HTML Template Tool!</center><\/h3>\n' +
	'<p><center>Type HTML in the textarea above, and it will appear in the frame below.</center><\/p>';
	var old = '';
         
	var header =
		'<div class="container">'+
  '<h2>HTML Template Tool</h2>'+
  <!-- Trigger the modal with a button -->
  '<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Settings</button>'+

  <!-- Modal -->
  '<div class="modal fade" id="myModal" role="dialog">'+
    '<div class="modal-dialog">'+
    
      <!-- Modal content-->
      '<div class="modal-content">'+
        '<div class="modal-header">'+
          '<button type="button" class="close" data-dismiss="modal">&times;</button>'+
          '<h4 class="modal-title"><center>Settings</center></h4>'+
        '</div>'+
        '<div class="modal-body">'+
			 '<div><center><button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Save</button></center></div>'+
			 '<br>'+
			 '<div><center><button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Menu</button></center></div>'+
			 '<br>'+
			 '<div class="dropdown">'+
  '<center><button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" class="center">CSS
  '<span class="caret"></span></button>'+
  '<ul class="dropdown-menu">'+
    '<li><a href="#">WoWS</a></li>'+
    '<li><a href="#">WoTX</a></li>'+
  '</ul>'+
'</div></center>'+
        '</div>'+
        '<div class="modal-footer">'+
          '<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>'+
        '</div>'+
      '</div>'+
      
    '</div>'+
  '</div>'+
  
'</div>';
		'
	function init()
		{
		window.header.document.write(header);
		window.header.document.close();
		window.editbox.document.write(editboxHTML);
		window.editbox.document.close();
		window.editbox.document.f.ta.value = defaultStuff;
		update();
		}
	function update()
	{
			var textarea = window.editbox.document.f.ta;
			var d = dynamicframe.document; 
  
				if (old != textarea.value) {
				old = textarea.value;
				d.open();
				d.write(old);
				if (old.replace(/[\r\n]/g,'') == defaultStuff.replace(/[\r\n]/g,''))
				d.close();
		}
				window.setTimeout(update, 150);
	}
</script>
</head>



</html>
